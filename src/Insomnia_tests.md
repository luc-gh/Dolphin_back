# Testes no Insomnia

Porta: http://localhost/3000.

![](../static/img.png)

#### Teste 1

| Ordem | Método HTTP | Rota       | Tipo de corpo | Conteúdo do corpo                                                                                                                 | Código de resposta | Erro                                                                                   | Status BD                       |
|-------|-------------|------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------|--------------------|----------------------------------------------------------------------------------------|---------------------------------|
| 1     | GET         | `/login`   | -             | -                                                                                                                                 | 200                | -                                                                                      | -                               |
| 2     | POST        | `/login`   | JSON          | { <br> "username": "username1", <br> "password": 12345678 <br> }                                                                  | 404                | Usuário não existia                                                                    | Sem alterações                  |
| 3     | POST        | `/signin`  | JSON          | { <br> "username": "username1", <br> "password": 12345678 <br> }                                                                  | 200                |                                                                                        | Usuário adicionado corretamente |
| 4     | DELETE      | `/account` | JSON          | { <br> "username": "username1", <br> "password": 12345678 <br> }                                                                  | 401                | TypeError                                                                              | Sem alterações                  |
| 5     | PUT         | `/account` | JSON          | { <br> "username": "username1", <br> "password": 12345678, <br> "newUsername": "username2", <br> "newPassword": "abcdefgh" <br> } | 200                | MongoInvalidArgumentError: <br> Replacement document must not contain atomic operators | Sem alterações                  |
| 6     | GET         | `/login`   | -             | -                                                                                                                                 | 200                | -                                                                                      | Sem alterações                  |
| 7     | POST        | `/signin`  | JSON          | { <br> "username": "userA", <br> "password": "12345678" <br> }                                                                    | -                  | Timeout - SSL Client Error - Current IP not added                                      | Sem alterações                  |
| 8     | POST        | `/signin`  | JSON          | { <br> "username": "userA", <br> "password": "12345678" <br> }                                                                    | 200                | -                                                                                      | Usuário adicionado corretamente |
| 9     | DELETE      | `/account` | JSON          | { <br> "username": "userA", <br> "password": "12345678", <br> "newUsername": "userC", <br> "newPassword": "87654321" <br> }       | 402                | TypeError                                                                              | Sem alterações                  |
| 10    | PUT         | `/account` | JSON          | { <br> "username": "userA", <br> "password": "12345678", <br> "newUsername": "userC", <br> "newPassword": "87654321" <br> }       | 200                | Não foram alterados os dados, apesar de não haver erro de execução                     | Sem alterações                  |
| 11    | PUT         | `/account` | JSON          | { <br> "username": "userA", <br> "password": "12345678", <br> "newUsername": "userC", <br> "newPassword": "87654321" <br> }       | 404                | MongoInvalidArgumentError                                                              | Sem alterações                  |
| 12    | PUT         | `/account` | JSON          | { <br> "username": "userA", <br> "password": "12345678", <br> "newUsername": "userC", <br> "newPassword": "87654321" <br> }       | 500                | MongoInvalidArgumentError: Replacement document must not contain atomic operators      | Sem alterações                  |
| 13    | PUT         | `/account` | JSON          | { <br> "username": "userA", <br> "password": "12345678", <br> "newUsername": "userC", <br> "newPassword": "87654321" <br> }       | 500                | ReferenceError: Cannot access 'b' before initialization                                | Usuário modificado corretamente |
| 14    | PUT         | `/account` | JSON          | { <br> "username": "userC", <br> "password": "87654321", <br> "newUsername": "userABC", <br> "newPassword": "45689631" <br> }     | 500                | ReferenceError: Cannot access 'b' before initialization                                | Usuário modificado corretamente |
